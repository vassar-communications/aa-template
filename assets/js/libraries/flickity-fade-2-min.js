!function(e,t){"object"==typeof module&&module.exports?module.exports=t(require("flickity"),require("fizzy-ui-utils")):t(e.Flickity,e.fizzyUIUtils)}("undefined"!=typeof window?window:this,(function(e,t){let i=e.Slide;i.prototype.renderFadePosition=function(){},i.prototype.setOpacity=function(e){this.cells.forEach((t=>{t.element.style.opacity=e}))},e.create.fade=function(){this.fadeIndex=this.selectedIndex,this.prevSelectedIndex=this.selectedIndex,this.on("select",this.onSelectFade),this.on("dragEnd",this.onDragEndFade),this.on("settle",this.onSettleFade),this.on("activate",this.onActivateFade),this.on("deactivate",this.onDeactivateFade)};let s=e.prototype,d=s.updateSlides;s.updateSlides=function(){d.apply(this,arguments),this.options.fade&&this.slides.forEach(((e,t)=>{let i=e.target-e.x,s=e.cells[0].x;e.cells.forEach((e=>{let t=e.x-s-i;this._renderCellPosition(e,t)}));let d=t===this.selectedIndex?1:0;e.setOpacity(d)}))},s.onSelectFade=function(){this.fadeIndex=Math.min(this.prevSelectedIndex,this.slides.length-1),this.prevSelectedIndex=this.selectedIndex},s.onSettleFade=function(){if(delete this.didDragEnd,!this.options.fade)return;this.selectedSlide.setOpacity(1),this.slides[this.fadeIndex]&&this.fadeIndex!==this.selectedIndex&&this.slides[this.fadeIndex].setOpacity(0)},s.onDragEndFade=function(){this.didDragEnd=!0},s.onActivateFade=function(){this.options.fade&&this.element.classList.add("is-fade")},s.onDeactivateFade=function(){this.options.fade&&(this.element.classList.remove("is-fade"),this.slides.forEach((e=>{e.setOpacity("")})))};let n=s.positionSlider;s.positionSlider=function(){this.options.fade?(this.fadeSlides(),this.dispatchScrollEvent()):n.apply(this,arguments)};let a=s.positionSliderAtSelected;s.positionSliderAtSelected=function(){this.options.fade&&this.setTranslateX(0),a.apply(this,arguments)},s.fadeSlides=function(){if(this.slides.length<2)return;let e=this.getFadeIndexes(),t=this.slides[e.a],i=this.slides[e.b],s=this.wrapDifference(t.target,i.target),d=this.wrapDifference(t.target,-this.x);d/=s,t.setOpacity(1-d),i.setOpacity(d);let n=e.a;this.isDragging&&(n=d>.5?e.a:e.b),void 0!==this.fadeHideIndex&&this.fadeHideIndex!==n&&this.fadeHideIndex!==e.a&&this.fadeHideIndex!==e.b&&this.slides[this.fadeHideIndex].setOpacity(0),this.fadeHideIndex=n},s.getFadeIndexes=function(){return this.isDragging||this.didDragEnd?this.options.wrapAround?this.getFadeDragWrapIndexes():this.getFadeDragLimitIndexes():{a:this.fadeIndex,b:this.selectedIndex}},s.getFadeDragWrapIndexes=function(){let e=this.slides.map((function(e,t){return this.getSlideDistance(-this.x,t)}),this),i=e.map((function(e){return Math.abs(e)})),s=Math.min(...i),d=i.indexOf(s),n=e[d],a=this.slides.length,h=n>=0?1:-1;return{a:d,b:t.modulo(d+h,a)}},s.getFadeDragLimitIndexes=function(){let e=0;for(let t=0;t<this.slides.length-1;t++){let i=this.slides[t];if(-this.x<i.target)break;e=t}return{a:e,b:e+1}},s.wrapDifference=function(e,t){let i=t-e;if(!this.options.wrapAround)return i;let s=i+this.slideableWidth,d=i-this.slideableWidth;return Math.abs(s)<Math.abs(i)&&(i=s),Math.abs(d)<Math.abs(i)&&(i=d),i};let h=s._updateWrapShiftCells;s._updateWrapShiftCells=function(){this.options.fade?this.isWrapping=this.getIsWrapping():h.apply(this,arguments)};let l=s.shiftWrapCells;return s.shiftWrapCells=function(){this.options.fade||l.apply(this,arguments)},e}));